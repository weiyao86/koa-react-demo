(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{525:function(t,e,n){"use strict";n.r(e);n(212),n(213),n(158),n(157),n(303),n(214),n(110),n(215),n(111),n(216),n(112),n(155),n(156),n(47);var c=n(518),u=n(87),a=n(281),o=n(0),i=n.n(o),o=n(304),f=n.n(o),l=n(517);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=m(n);return t=o?(t=m(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==r(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,i.a.Component);var t,e,n,o=y(r);function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o.apply(this,arguments)}return t=r,(e=[{key:"toSavePdf",value:function(){f()(document.body).then(function(t){var e=t.width,n=t.height,o=e/592.28*841.89,r=n,c=0,u=592.28/e*n,a=t.toDataURL("image/jpeg",1),i=new l.a("","pt","a4");if(r<o)i.addImage(a,"JPEG",0,0,595.28,u);else for(;0<r;)i.addImage(a,"JPEG",0,c,595.28,u),c-=841.89,0<(r-=o)&&i.addPage();i.save("content.pdf")})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){return t.toSavePdf()}},"保存为PDF文件"))}}])&&p(t.prototype,e),n&&p(t,n),r}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=j(n);return t=o?(t=j(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==h(t)&&"function"!=typeof t?S(e):t}}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}c.a.TweenOneGroup;var _,R=(_=[],{add:function(t){"function"==typeof t&&_.push(t)},getQueue:function(){return _},clear:function(){_.length=0},trigger:function(){k()}});function k(t){var e=_.shift();e&&e(k)}e.default=function(){O(r,i.a.Component);var o=E(r);function r(){var c;d(this,r);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return v(S(c=o.call.apply(o,[this].concat(e))),"state",{star:!1,current:0}),v(S(c),"timeTotal",5e3),v(S(c),"calcCount",0),v(S(c),"timer",null),v(S(c),"onStart",function(){var r=S(c);c.calcCount=0;var t=c.setRandom();clearTimeout(c.timer),R.clear(),t.forEach(function(e,n){var o=e/100*c.timeTotal;R.add(function(t){console.log("当前步骤=>".concat(n+1)),r.doneByTime({next:t,totalTime:o,percent:e,cb:function(t){console.log(t+"---步骤".concat(n+1)),0==R.getQueue().length&&(console.timeEnd("time"),r.setState({current:100}))}})})}),console.time("time"),R.trigger()}),c}return w(r,[{key:"setRandom",value:function(){for(var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:10)-1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=[];t--;){var o=Math.ceil(Math.random()*(e/2));n.push(o),e-=o}return n.push(e),n}},{key:"doneByTime",value:function(t){var r=this,c=t.next,u=t.totalTime,a=t.percent,i=t.cb,f=+new Date,l=0,p=16.733,s=0;(function t(){var e=+new Date,n=e-f,o=(n=u<=n?u:n)/u,n=a*o;r.calcCount+=n-s,r.setState({current:r.calcCount}),o<1?((e=p-(e-(f+l*p)))<0&&(e=0),r.timer=setTimeout(t,Math.min(p,e))):(clearTimeout(r.timer),"function"==typeof i&&i("进度条值:".concat(a,"--总进度:").concat(r.calcCount,"---次数:").concat(l,"---块时间:").concat(u)),c()),s=n,l++})()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this,e=this.state.current;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"wrap"},"Home"),i.a.createElement(c.a,{animation:{x:50},onChange:function(t){}},i.a.createElement(u.a,{onClick:function(){return t.onStart()}},"Demo")),i.a.createElement(a.a,{strokeColor:{"0%":"#108ee9","100%":"#87d068"},percent:e}),i.a.createElement(b,null))}}]),r}()}}]);